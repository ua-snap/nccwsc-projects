{"ast":null,"code":"import { SciencebaseService } from '../sciencebase.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../sciencebase.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction ProjectResourceComponent_div_1_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Organization(s): \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.resourceOrgs, \" \");\n  }\n}\n\nfunction ProjectResourceComponent_div_1_div_7_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const contact_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", contact_r8.name, \" \");\n  }\n}\n\nfunction ProjectResourceComponent_div_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Authors(s): \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 9);\n    i0.ɵɵtemplate(4, ProjectResourceComponent_div_1_div_7_li_4_Template, 2, 1, \"li\", 10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.resourceContacts.authors);\n  }\n}\n\nfunction ProjectResourceComponent_div_1_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Publication Date: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.resourceDates.publication.dateString, \" \");\n  }\n}\n\nfunction ProjectResourceComponent_div_1_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.currentResource.browseCategories[0], \" \");\n  }\n}\n\nfunction ProjectResourceComponent_div_1_div_10_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const weblink_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"href\", weblink_r10.uri, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(weblink_r10.title);\n  }\n}\n\nfunction ProjectResourceComponent_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h1\", 4);\n    i0.ɵɵtext(2, \"Links\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProjectResourceComponent_div_1_div_10_p_3_Template, 3, 2, \"p\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.currentResource.webLinks);\n  }\n}\n\nfunction ProjectResourceComponent_div_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"h1\", 4);\n    i0.ɵɵtext(2, \"Summary\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"p\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r6.currentResource.body, i0.ɵɵsanitizeHtml);\n  }\n}\n\nfunction ProjectResourceComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"h1\", 4);\n    i0.ɵɵtext(3, \"Product / Resource\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ProjectResourceComponent_div_1_p_6_Template, 4, 1, \"p\", 6);\n    i0.ɵɵtemplate(7, ProjectResourceComponent_div_1_div_7_Template, 5, 1, \"div\", 6);\n    i0.ɵɵtemplate(8, ProjectResourceComponent_div_1_p_8_Template, 4, 1, \"p\", 6);\n    i0.ɵɵtemplate(9, ProjectResourceComponent_div_1_p_9_Template, 4, 1, \"p\", 6);\n    i0.ɵɵtemplate(10, ProjectResourceComponent_div_1_div_10_Template, 4, 1, \"div\", 7);\n    i0.ɵɵtemplate(11, ProjectResourceComponent_div_1_div_11_Template, 4, 1, \"div\", 8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.currentResource.title, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.resourceOrgs == null ? null : ctx_r0.resourceOrgs.length) != null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.resourceContacts == null ? null : ctx_r0.resourceContacts.authors == null ? null : ctx_r0.resourceContacts.authors.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.resourceDates == null ? null : ctx_r0.resourceDates.publication) != null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentResource.browseCategories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.currentResource == null ? null : ctx_r0.currentResource.webLinks == null ? null : ctx_r0.currentResource.webLinks.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentResource.body);\n  }\n}\n\nexport let ProjectResourceComponent = /*#__PURE__*/(() => {\n  class ProjectResourceComponent {\n    constructor(route, sbService) {\n      this.route = route;\n      this.sbService = sbService;\n      this.currentResource = null;\n      this.resourceContacts = {};\n      this.resourceDates = {};\n      this.sbURL = environment.sbmainURL;\n    }\n\n    getAffiliations() {\n      if (!this.currentResource.tags) {\n        return null;\n      }\n\n      var orgsString = '';\n\n      for (let tag of this.currentResource.tags) {\n        if (tag.type == \"Organization\") {\n          orgsString = orgsString + tag.name + ', ';\n        }\n      }\n\n      return orgsString.substring(0, orgsString.length - 2);\n    }\n\n    getResourceContacts() {\n      var contacts = {\n        'authors': []\n      };\n\n      if (this.currentResource.contacts) {\n        for (let contact of this.currentResource.contacts) {\n          if (contact.type == 'Author') {\n            contacts.authors.push(contact);\n          }\n        }\n      }\n\n      return contacts;\n    }\n\n    getResourceDates() {\n      var dates = {\n        'publication': null\n      };\n\n      if (this.currentResource.dates) {\n        for (let date of this.currentResource.dates) {\n          if (date.type == 'Publication') {\n            dates.publication = date;\n          }\n        }\n      }\n\n      return dates;\n    }\n\n    ngOnInit() {\n      this.sub = this.route.params.subscribe(params => {\n        this.sbId = params['sbId'];\n      });\n      this.sbService.getSciencebaseRecord(this.sbId).subscribe(data => {\n        this.currentResource = data;\n        this.resourceOrgs = this.getAffiliations();\n        this.resourceContacts = this.getResourceContacts();\n        this.resourceDates = this.getResourceDates();\n      });\n    }\n\n  }\n\n  ProjectResourceComponent.ɵfac = function ProjectResourceComponent_Factory(t) {\n    return new (t || ProjectResourceComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SciencebaseService));\n  };\n\n  ProjectResourceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectResourceComponent,\n    selectors: [[\"app-project-resource\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"container\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-12\", \"content\"], [1, \"page-title\"], [1, \"title\"], [4, \"ngIf\"], [\"class\", \"links\", 4, \"ngIf\"], [\"clas\", \"summary\", 4, \"ngIf\"], [1, \"contacts\"], [4, \"ngFor\", \"ngForOf\"], [1, \"links\"], [\"target\", \"_blank\", 3, \"href\"], [\"clas\", \"summary\"], [1, \"summary\", 3, \"innerHtml\"]],\n    template: function ProjectResourceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ProjectResourceComponent_div_1_Template, 12, 7, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentResource);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    styles: [\"div.content[_ngcontent-%COMP%]{background-color:#f5f5f5;border:solid 1px #DDD;padding:1em;margin:1em}div.content[_ngcontent-%COMP%]   h1.page-title[_ngcontent-%COMP%]{font-size:1.2em;width:100%;border-bottom:1px solid #333}div.content[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:20px}\"]\n  });\n  return ProjectResourceComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}